<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="myButton"></button>
    <script>

        /* var a = 10;
        function foo() {
            console.log(this.a)
        }
        foo(); */

        /* "use strict";
        var a = 10;
        function foo() {
            console.log('this1', this)
            console.log(window.a)
            console.log(this.a)
        }
        console.log(window.foo)
        console.log('this2', this)
        foo(); */

        /* let a = 10
        const b = 20

        function foo() {
            console.log(this.a)
            console.log(this.b)
        }
        foo();
        console.log(window.a) */

        /* var a = 1
        function foo() {
            var a = 2
            console.log(this)
            console.log(this.a)
        }

        foo() */

        /* var a = 1
        function foo() {
            var a = 2
            function inner() {
                console.log(this.a)
            }
            inner()
        }

        foo() */

        /* function foo() {
            console.log(this.a)
        }
        var obj = { a: 1, foo }
        var a = 2
        obj.foo() */

        /* function foo() {
            console.log(this.a)
        };
        var obj = { a: 1, foo };
        var a = 2;
        var foo2 = obj.foo;

        obj.foo();
        foo2(); */

        /* function foo() {
            console.log(this.a)
        };
        var obj = { a: 1, foo };
        var a = 2;
        var foo2 = obj.foo;
        var obj2 = { a: 3, foo2: obj.foo }

        obj.foo();
        foo2();
        obj2.foo2(); */

        /* function foo() {
            console.log(this.a)
        }
        function doFoo(fn) {
            console.log(this)
            fn()
        }
        var obj = { a: 1, foo }
        var a = 2
        doFoo(obj.foo) */

        /* function foo() {
            console.log(this.a)
        }
        function doFoo(fn) {
            console.log(this) // obj2
            fn() // window
        }
        var obj = { a: 1, foo }
        var a = 2
        var obj2 = { a: 3, doFoo }

        obj2.doFoo(obj.foo) */

        /* "use strict"
        function foo() {
            console.log(this.a)
        }
        function doFoo(fn) {
            console.log(this)
            fn()
        }
        var obj = { a: 1, foo }
        var a = 2
        var obj2 = { a: 3, doFoo }

        obj2.doFoo(obj.foo) */

        /* function foo() {
            console.log(this.a)
        }
        var obj = { a: 1 }
        var a = 2

        foo()
        foo.call(obj)
        foo.apply(obj)
        foo.bind(obj) */

        /* function foo() {
            console.log(this.a)
        }
        var a = 2
        foo.call()
        foo.call(null)
        foo.call(undefined) */

        /* var obj1 = {
            a: 1
        }
        var obj2 = {
            a: 2,
            foo1: function () {
                console.log(this.a)
            },
            foo2: function () {
                setTimeout(function () {
                    console.log(this)
                    console.log(this.a)
                }, 0)
            }
        }
        var a = 3

        obj2.foo1()
        obj2.foo2() */

        /* var obj1 = {
            a: 1
        }
        var obj2 = {
            a: 2,
            foo1: function () {
                console.log(this.a)
            },
            foo2: function () {
                setTimeout(function () {
                    console.log(this)
                    console.log(this.a)
                }.call(obj1), 0)
            }
        }
        var a = 3
        obj2.foo1()
        obj2.foo2() */

        /* var obj1 = {
            a: 1
        }
        var obj2 = {
            a: 2,
            foo1: function () {
                console.log(this.a)
            },
            foo2: function () {
                function inner() {
                    console.log(this)
                    console.log(this.a)
                }
                inner()
            }
        }
        var a = 3
        obj2.foo1()
        obj2.foo2() */

        /* function foo() {
            console.log(this.a)
        }
        var obj = { a: 1 }
        var a = 2

        foo()
        foo.call(obj)
        foo().call(obj) */

        /* function foo() {
            console.log(this.a)
            return function () {
                console.log(this.a)
            }
        }
        var obj = { a: 1 }
        var a = 2

        foo()
        foo.call(obj)
        foo().call(obj) */

        /* function foo() {
            console.log(this.a)
            return function () {
                console.log(this.a)
            }
        }
        var obj = { a: 1 }
        var a = 2

        foo()
        foo.bind(obj)
        foo().bind(obj) */

        /* function foo() {
            console.log(this.a)
            return function () {
                console.log(this.a)
            }
        }
        var obj = { a: 1 }
        var a = 2

        foo.call(obj)() */

        /* var obj = {
            a: 'obj',
            foo: function () {
                console.log('foo:', this.a)
                return function () {
                    console.log('inner:', this.a)
                }
            }
        }
        var a = 'window'
        var obj2 = { a: 'obj2' }

        obj.foo()()
        obj.foo.call(obj2)()
        obj.foo().call(obj2) */

        /* var obj = {
            a: 1,
            foo: function (b) {
                b = b || this.a
                return function (c) {
                    console.log(this.a + b + c)
                }
            }
        }
        var a = 2
        var obj2 = { a: 3 }

        obj.foo(a).call(obj2, 1)
        obj.foo.call(obj2)(1) */

        /* function foo1() {
            console.log(this.a)
        }
        var a = 1
        var obj = {
            a: 2
        }

        var foo2 = function () {
            foo1.call(obj)
        }

        foo2()
        foo2.call(window) */

        /* function foo1(b) {
            console.log(`${this.a} + ${b}`)
            return this.a + b
        }
        var a = 1
        var obj = {
            a: 2
        }

        var foo2 = function () {
            return foo1.call(obj, ...arguments)
        }

        var num = foo2(3)
        console.log(num) */

        /* function foo(item) {
            console.log(item, this.a)
        }
        var obj = {
            a: 'obj'
        }
        var a = 'window'
        var arr = [1, 2, 3] */

        // arr.forEach(foo, obj)
        // arr.map(foo, obj)
        // arr.filter(function (i) {
        //     console.log(i, this.a)
        //     return i > 2
        // }, obj)

        /* function Person(name) {
            this.name = name
        }
        var name = 'window'
        var person1 = new Person('LinDaiDai')
        console.log(person1.name) */

        /* function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name)
            }
            this.foo2 = function () {
                return function () {
                    console.log(this.name)
                }
            }
        }
        var person1 = new Person('person1')
        person1.foo1()
        person1.foo2()() */

        /* var name = 'window'
        function Person(name) {
            this.name = name
            this.foo = function () {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
        }
        var person2 = {
            name: 'person2',
            foo: function () {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
        }

        var person1 = new Person('person1')
        person1.foo()()
        person2.foo()() */

        /* var name = 'window'
        function Person(name) {
            this.name = name
            this.foo = function () {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
        }
        var person1 = new Person('person1')
        var person2 = new Person('person2')

        person1.foo.call(person2)()
        person1.foo().call(person2) */

        /* var obj = {
            name: 'obj',
            foo1: () => {
                console.log(this.name)
            },
            foo2: function () {
                console.log(this.name)
                return () => {
                    console.log(this.name)
                }
            }
        }
        var name = 'window'
        obj.foo1()
        obj.foo2()() */

        /* var name = 'window'
        var obj1 = {
            name: 'obj1',
            foo: function () {
                console.log(this.name)
            }
        }

        var obj2 = {
            name: 'obj2',
            foo: () => {
                console.log(this.name)
            }
        }

        obj1.foo()
        obj2.foo() */

        /* var name = 'window'
        var obj1 = {
            name: 'obj1',
            foo: function () {
                console.log(this.name) // obj1
                return function () {
                    console.log(this.name) // window
                }
            }
        }
        var obj2 = {
            name: 'obj2',
            foo: function () {
                console.log(this.name) // obj2
                return () => {
                    console.log(this.name) // obj2
                }
            }
        }
        var obj3 = {
            name: 'obj3',
            foo: () => {
                console.log(this.name) // window
                return function () {
                    console.log(this.name) // window
                }
            }
        }
        var obj4 = {
            name: 'obj4',
            foo: () => {
                console.log(this.name) // window
                return () => {
                    console.log(this.name) // window
                }
            }
        }

        obj1.foo()()
        obj2.foo()()
        obj3.foo()()
        obj4.foo()() */

        /* var name = 'window'
        function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name)
            }
            this.foo2 = () => {
                console.log(this.name)
            }
        }
        var person2 = {
            name: 'person2',
            foo2: () => {
                console.log(this.name)
            }
        }
        var person1 = new Person('person1')
        person1.foo1()
        person1.foo2()
        person2.foo2() */

        // var name = 'window'
        /* function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
            this.foo2 = function () {
                console.log(this.name)
                return () => {
                    console.log(this.name)
                }
            }
            this.foo3 = () => {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
            this.foo4 = () => {
                console.log(this.name)
                return () => {
                    console.log(this.name)
                }
            }
        }
        var person1 = new Person('person1')
        person1.foo1()()
        person1.foo2()()
        person1.foo3()()
        person1.foo4()() */

        /* var name = 'window'
        var obj1 = {
            name: 'obj1',
            foo1: function () {
                console.log(this.name)
                return () => {
                    console.log(this.name)
                }
            },
            foo2: () => {
                console.log(this.name)
                return function () {
                    console.log(this.name)
                }
            }
        }
        var obj2 = {
            name: 'obj2'
        }
        obj1.foo1.call(obj2)() // obj2 obj2
        obj1.foo1().call(obj2) // obj1 obj1
        obj1.foo2.call(obj2)() // window window
        obj1.foo2().call(obj2) // window obj2 */

        /* let obj = {
            value: 'LinDaiDai',
            getValue: () => console.log(this.value)
        }
        obj.getValue() */

        /* function Foo(value) {
            this.value = value
        }
        Foo.prototype.getValue = () => console.log(this.value)

        const foo1 = new Foo(1)
        foo1.getValue() // undefined */

        /* const Foo = (value) => {
            this.value = value;
        }
        const foo1 = new Foo(1)
        // 事实上直接就报错了 Uncaught TypeError: Foo is not a constructor
        console.log(foo1); */

        /* const button = document.getElementById('myButton');
        button.addEventListener('click', () => {
            console.log(this === window); // => true
            this.innerHTML = 'Clicked button';
        }); */

        /* var name = 'window'
        var person1 = {
            name: 'person1',
            foo1: function () {
                console.log(this.name)
            },
            foo2: () => console.log(this.name),
            foo3: function () {
                return function () {
                    console.log(this.name)
                }
            },
            foo4: function () {
                console.log(this);
                return () => {
                    console.log(this.name)
                }
            }
        }
        var person2 = { name: 'person2' } */

        // person1.foo1() // person1
        // person1.foo1.call(person2) // person2

        // person1.foo2() // window
        // person1.foo2.call(person2) // window

        // person1.foo3()() // window
        // person1.foo3.call(person2)() // window
        // person1.foo3().call(person2) // person2

        // person1.foo4()() // person1
        // person1.foo4.call(person2)() // person2
        // person1.foo4().call(person2) // person1 箭头函数不能绑定this 所以还是指向的person1


        /* var name = 'window'
        function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name)
            },
            this.foo2 = () => console.log(this.name),
            this.foo3 = function () {
                return function () {
                    console.log(this.name)
                }
            },
            this.foo4 = function () {
                return () => {
                    console.log(this.name)
                }
            }
        }
        var person1 = new Person('person1')
        var person2 = new Person('person2')

        person1.foo1() // person1
        person1.foo1.call(person2) // person2

        person1.foo2() // person1
        person1.foo2.call(person2) // person1

        person1.foo3()() // window
        person1.foo3.call(person2)() // window
        person1.foo3().call(person2) // person2

        person1.foo4()() // person1
        person1.foo4.call(person2)() // person2
        person1.foo4().call(person2) // person1 */

        /* var name = 'window'
        function Person(name) {
            this.name = name
            this.obj = {
                name: 'obj',
                foo1: function () {
                    // console.log(this);
                    return function () {
                        console.log(this.name)
                    }
                },
                foo2: function () {
                    // console.log(this);
                    return () => {
                        console.log(this.name)
                    }
                }
            }
        }
        var person1 = new Person('person1')
        var person2 = new Person('person2')

        person1.obj.foo1()() // window
        person1.obj.foo1.call(person2)() // window
        person1.obj.foo1().call(person2) // person2

        person1.obj.foo2()() // obj
        person1.obj.foo2.call(person2)() // person2
        person1.obj.foo2().call(person2) // obj */

        /* function foo() {
            console.log(this.a);
        }
        var a = 2;
        (function () {
            "use strict";
            foo();
        })(); */

        /* const object = {
            message: 'Hello, World!',

            getMessage() {
                const message = 'Hello, Earth!';
                return this.message;
            }
        };

        console.log(object.getMessage()); // ?? */

        /* function Pet(name) {
            this.name = name;

            this.getName = () => this.name;
        }

        const cat = new Pet('Fluffy');

        console.log(cat.getName()); // What is logged?

        const { getName } = cat;
        console.log(getName());     // What is logged? */

        /* const object = {
            message: 'Hello, World!',

            logMessage() {
                console.log(this.message); // What is logged?
            }
        };

        setTimeout(object.logMessage, 1000); */

        /* const object = {
            who: 'World',

            greet() {
                return `Hello, ${this.who}!`;
            },

            farewell: () => {
                return `Goodbye, ${this.who}!`;
            }
        };

        console.log(object.greet());    // What is logged?
        console.log(object.farewell()); // What is logged? */

        /* var length = 4;
        function callback() {
            console.log(this.length); // What is logged?
        }

        const object = {
            length: 5,
            method(callback) {
                callback();
            }
        };

        object.method(callback, 1, 2); */

        /* var length = 4;
        function callback() {
            console.log(this.length); // What is logged?
        }

        const object = {
            length: 5,
            method() {
                arguments[0]();
            }
        };

        object.method(callback, 1, 2); */

        /* function fn() {
            console.log(this)
        }
        let obj = {
            fn: fn
        }
        fn()
        obj.fn() */

        /* var obj = {
            a: 1,
            obj2: {
                a: 2,
                obj3: {
                    a: 3,
                    getA: function () {
                        console.log(this.a)
                    }
                }
            }
        }
        obj.obj2.obj3.getA() */

        /*  function Person() {
             this.age = 0
             setTimeout(function () {
                 console.log(this.age)     // => undefined
             }, 1000)
         }
         var p = new Person()
 
         function Person() {
             this.age = 10
             setTimeout(() => {
                 console.log(this.age)     // => 10
             }, 1000)
         }
         var p = new Person() */

        /* const obj = {
            name: '123',
            bar() {
                const x = () => this
                return x
            },
        }
        console.log(obj.bar()())
        const a = { name: '456' }
        const b = { name: '789' }
        console.log(obj.bar.bind(b)().call(a)) */

        /* var fullName = 'language'
        var obj = {
            fullName: 'javascript',
            prop: {
                getFullName: function () {
                    return this.fullName
                }
            }
        }
        console.log(obj.prop.getFullName()) */
        // var test = obj.prop.getFullName
        // console.log(test())

        /* var val = 1
        var json = {
            val: 10,
            dbl: function () {
                val *= 2
            }
        }
        json.dbl()
        console.log(json.val + val) */

        /* class Test {
            constructor() {
                this.x = 10;
            }

            printX() {
                console.log(this.x);
            }
        }

        const test = new Test();
        Test.printX(); // 输出什么？ */

        /* var val = 1
        var json = {
            val: 10,
            dbl: function () {
                this.val *= 2
            }
        }
        json.dbl()
        console.log(json.val + val) */

        /* var num = 10
        var obj = { num: 20 }
        obj.fn = (function (num) {
            this.num = num * 3
            num++ // 21
            return function (n) {
                this.num += n
                num++
                console.log(num)
            }
        })(obj.num)
        var fn = obj.fn
        fn(5)
        obj.fn(10)
        console.log(num, obj.num) */

        /* var x = 3,
        obj = { x: 5 };
        obj.fn = (function () {
            this.x *= ++x;
            return function (y) {
                this.x *= (++x) + y;
                console.log(x);
            }
        })();
        var fn = obj.fn;
        obj.fn(6);
        fn(4);
        console.log(obj.x, x); */

        /* class Test1 {
            constructor() { this.value = "Test1"; }
            printValue() {
                console.log(this.value);
            }
        }

        const test1 = new Test1();
        test1.printValue(); */

        /* class Test2 {
            constructor(element) {
                this.value = 'Test2';
                element.addEventListener('click', this.handleClick);
            }

            handleClick() {
                console.log(this.value);
            }
        }

        const element = document.createElement('myButton');
        const test2 = new Test2(element);
        element.click(); // 输出什么? */

        /* class Test3 {
            constructor(element) { 
                this.value = "Test3"; 
                element.addEventListener("click", () => {
                    this.handleClick()
                }); 
            }
            handleClick() {
                console.log(this.value);
            }
        }

        const element = document.createElement("myButton");
        const test3 = new Test3(element);
        element.click(); // 输出什么? */

        /* class Test4 {
            constructor(element) {
                this.value = 'Test4';
                this.handleClick = this.handleClick.bind(this);
                element.addEventListener('click', this.handleClick);
            }

            handleClick() {
                console.log(this.value);
            }
        }

        const element = document.createElement('myButton');
        const test4 = new Test4(element);
        element.click(); */

        /* class Test5 {
            constructor() {
                this.value = "Test5";
            }
            static printValue() {
                console.log(this.value);
            }
        }

        Test5.printValue(); // 输出什么?
        const test5 = new Test5();
        test5.printValue(); */

        /* class Person {
            constructor(name) { 
                this.name = name; 
            }
            greet() {
                return `Hello, my name is ${this.name}`;
            }
        }

        class Employee extends Person {
            constructor(name, job) {
                super(name);
                this.job = job;
            }

            greet() {
                return `${super.greet()} and I work as a ${this.job}`;
            }
        }

        const emp = new Employee("Alice", "Engineer");
        console.log(emp.greet()); */

        /* class Animal {
            speak() {
                return 'The animal makes a sound';
            }
        }

        class Dog extends Animal {
            speak() {
                return 'The dog barks';
            }
        }

        const dog = new Dog();
        console.log(dog.speak()); */

        /* class Vehicle { 
            start() { 
                return "The vehicle starts"; 
            } 
        }
        class Car extends Vehicle {
            start() {
                return `${ super.start() } with a roar`;
            }
        }

        const car = new Car();
        console.log(car.start()); */

        /* function Parent() {
            this.value = 'Parent';
        }

        Parent.prototype.getValue = function () {
            return this.value;
        };

        function Child() {
            Parent.call(this);
            this.type = 'Child';
        }

        Child.prototype = Object.create(Parent.prototype);
        Child.prototype.constructor = Child;

        const child = new Child();
        console.log(child);
        console.log(child.getValue()); // 输出什么?
        console.log(child instanceof Parent); */

        /* function Flyer() {
            this.canFly = true; 
        }
        Flyer.prototype.fly = function () {
            return "The object takes off into the air";
        };

        function Swimmer() {
            this.canSwim = true;
        }

        Swimmer.prototype.swim = function () {
            return "The object swims in the water";
        };

        function FlyingFish() {
            Flyer.call(this);
            Swimmer.call(this);
        }

        FlyingFish.prototype = Object.create(Flyer.prototype);
        Object.assign(FlyingFish.prototype, Swimmer.prototype);
        FlyingFish.prototype.constructor = FlyingFish;

        const fish = new FlyingFish();
        console.log(fish.fly()); // 输出什么?
        console.log(fish.swim()); // 输出什么?
        console.log(fish instanceof Flyer); // 输出什么?
        console.log(fish instanceof Swimmer); // 输出什么? */

        // const xhr = new XMLHttpRequest();
        // xhr.open('get','./index.html');
        // xhr.send(null);
        // xhr.onreadystatechange = function() {
        //     if (xhr.readyState === 4) {
        //         if (xhr.status === 200) {
        //             console.log(xhr.responseText);
        //         }
        //     }
        // }

        /*  function Ajax(method, url, params, callback) {
             method = method.toUpperCase();
             const data = null
             const xhr = new XMLHttpRequest()
             xhr.open(method, url)
             const temp = []
             if (Object.prototype.toString.call(params) === '[object Object]') {
                 for (let key in params) {
                     temp.push(`${key}=${params[key]}`)
                 }
                 params = temp.join('&')
             }
             if (method === 'GET') {
                 url += '?' + params
             }
             if (method === 'POST') {
                 xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
                 data = params
             }
             xhr.send(data)
 
             xhr.onreadystatechange = function() {
                 if (xhr.readyState === 4) {
                     if (xhr.status === 200) {
                         callback(xhr.responseText)
                     }
                 }
             }
         }
 
         Ajax('get', './README.md', {a:1,b:2}, (data) => {
             console.log(data);
         }) */

        // class Test {
        //     constructor(name) {
        //         this.name = name
        //     }
        //     getGreet() {
        //         console.log(this.name);
        //     }
        //     something() {
        //         return Promise.resolve()
        //     }
        //     getTest() {
        //         console.log(this);
        //         this.something()
        //         .then(this.getGreet)
        //     }
        // }

        // new Test('foo').getTest()

        // Promise.resolve(1)
        // .then(x => x+1)
        // .then(x => {throw new Error('error')})
        // .catch(() => 1)
        // .then(x => x+1)
        // .then(x => console.log(x))
        // .catch(err => console.log(err))

        // console.log(Number(123.43243).toFixed(2));
        console.log(new Map().toString()) // "[object Map]"
        console.log(new Set().toString()) // "[object Set]"
        console.log(new Promise(resolve => resolve()).toString()) // "[object Promise]"

        class Super {
            get[Symbol.toStringTag]() {
                return 'Validator'
            }
         }
        console.log(Object.prototype.toString.call(new Super())) // "[object Object]"



































































    </script>
</body>

</html>